"use strict";exports.id=188,exports.ids=[188],exports.modules={56572:(e,t,n)=>{n.d(t,{default:()=>w});var F=n(45512),r=n(40528),o=n(62148),a=n(78954),s=n(48376),i=n(23726),l=n(15436),c=n(52669),u=n(28500),d=n(11526),f=n(33563),p=n(36857),m=n(81346),C=n(45869),D=n(28531),g=n.n(D),h=n(79334),x=n(71709);let w=function({children:e}){let[t,{toggle:n}]=(0,u.useDisclosure)(),D=(0,h.usePathname)();return(0,F.jsxs)(r.AppShell,{header:{height:60},navbar:{width:300,breakpoint:"sm",collapsed:{mobile:!t}},padding:"md",children:[(0,F.jsx)(r.AppShell.Header,{children:(0,F.jsxs)(o.Group,{align:"center",h:"100%",px:"md",children:[(0,F.jsx)(a.Burger,{opened:t,onClick:n,hiddenFrom:"sm",size:"sm","data-testid":"app-menu"}),(0,F.jsx)(s.Text,{flex:1,children:"Moon Clock"})]})}),(0,F.jsxs)(r.AppShell.Navbar,{p:"md",children:[(0,F.jsx)(i.NavLink,{component:g(),href:"/",label:"Panel",active:D.includes("/panel"),leftSection:(0,F.jsx)(l.ActionIcon,{variant:"light",children:(0,F.jsx)(d.A,{style:{width:"70%",height:"70%"},stroke:1.5})})}),(0,F.jsx)(i.NavLink,{component:g(),href:"/presets",label:"Presets","data-testid":"nav-presets",active:D.includes("/presets"),leftSection:(0,F.jsx)(l.ActionIcon,{variant:"light",children:(0,F.jsx)(f.A,{style:{width:"70%",height:"70%"},stroke:1.5})})}),(0,F.jsx)(i.NavLink,{component:g(),href:"/composer",label:"Composer",active:D.includes("/composer"),leftSection:(0,F.jsx)(l.ActionIcon,{variant:"light",children:(0,F.jsx)(p.A,{style:{width:"70%",height:"70%"},stroke:1.5})})}),(0,F.jsx)(i.NavLink,{component:g(),href:"/settings",label:"Settings",active:D.includes("/settings"),leftSection:(0,F.jsx)(l.ActionIcon,{variant:"light",children:(0,F.jsx)(m.A,{style:{width:"70%",height:"70%"},stroke:1.5})})})]}),(0,F.jsx)(r.AppShell.Main,{children:(0,F.jsx)(x.tH,{fallbackRender:({error:e})=>(console.log(e.stack),(0,F.jsx)(c.Alert,{title:"There was a problem!",color:"red",icon:(0,F.jsx)(C.A,{}),children:e.message})),children:e})})]})}},45900:(e,t,n)=>{n.d(t,{K:()=>w});var F=n(45512),r=n(58009),o=n(88044);function a(e,t){let n=[];for(let F=0;F<t.height;F++)for(let r=0;r<t.width;r++){let{data:t}=e.getImageData(r,F,1,1);n.push({x:r,y:F,rgba:0===t[3]?null:t})}return n}let s=1e3/60,i=0;function l(e){return setTimeout(()=>{e(i=performance.now())},Math.max(0,s-(performance.now()-i)))}function c(e){clearTimeout(e)}function u(e){if(e.includes("rgb")){let t=e.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i);if(t)return{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10),a:parseInt(t[4],10)||255}}else{let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(t)return{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),a:255}}return null}let d=async({macroConfig:e,ctx:t,dimensions:n,index:F,updatePixels:r})=>{let o={coordinates:{"1:1":"#ffffff"},...e};for(let e in o.coordinates){t.fillStyle=o.coordinates[e];let[n,F]=e.split(":");t.fillRect(parseInt(n,10),parseInt(F,10),1,1)}return r(a(t,n),F),()=>{}},f={"0:0":"#000000","1:0":"#000000","2:0":"#000000","3:0":"#000000","4:0":"#000000","5:0":"#000000","6:0":"#000000","7:0":"#000000","8:0":"#000000","9:0":"#000000","10:0":"#000000","11:0":"#000000","12:0":"#000000","13:0":"#000000","14:0":"#000000","15:0":"#000000","16:0":"#000000","17:0":"#000000","18:0":"#000000","19:0":"#000000","20:0":"#000000","21:0":"#000000","22:0":"#000000","23:0":"#000000","24:0":"#000000","25:0":"#000000","26:0":"#000000","27:0":"#000000","28:0":"#000000","29:0":"#000000","30:0":"#000000","31:0":"#000000","0:1":"#000000","1:1":"#000000","2:1":"#000000","3:1":"#000000","4:1":"#000000","5:1":"#000000","6:1":"#000000","7:1":"#000000","8:1":"#000000","9:1":"#000000","10:1":"#000000","11:1":"#000000","12:1":"#000000","13:1":"#000000","14:1":"#000000","15:1":"#000000","16:1":"#000000","17:1":"#FFF5FA","18:1":"#000000","19:1":"#000000","20:1":"#000000","21:1":"#000000","22:1":"#000000","23:1":"#000000","24:1":"#000000","25:1":"#000000","26:1":"#000000","27:1":"#000000","28:1":"#000000","29:1":"#000000","30:1":"#000000","31:1":"#000000","0:2":"#000000","1:2":"#000000","2:2":"#000000","3:2":"#000000","4:2":"#000000","5:2":"#000000","6:2":"#000000","7:2":"#000000","8:2":"#000000","9:2":"#000000","10:2":"#000000","11:2":"#000000","12:2":"#000000","13:2":"#000000","14:2":"#000000","15:2":"#000000","16:2":"#000000","17:2":"#000000","18:2":"#000000","19:2":"#000000","20:2":"#000000","21:2":"#000000","22:2":"#000000","23:2":"#000000","24:2":"#000000","25:2":"#000000","26:2":"#000000","27:2":"#000000","28:2":"#000000","29:2":"#000000","30:2":"#000000","31:2":"#000000","0:3":"#000000","1:3":"#000000","2:3":"#000000","3:3":"#000000","4:3":"#000000","5:3":"#000000","6:3":"#000000","7:3":"#000000","8:3":"#000000","9:3":"#000000","10:3":"#000000","11:3":"#000000","12:3":"#000000","13:3":"#000000","14:3":"#000000","15:3":"#000000","16:3":"#000000","17:3":"#000000","18:3":"#000000","19:3":"#000000","20:3":"#000000","21:3":"#000000","22:3":"#000000","23:3":"#000000","24:3":"#000000","25:3":"#000000","26:3":"#000000","27:3":"#000000","28:3":"#000000","29:3":"#000000","30:3":"#000000","31:3":"#000000","0:4":"#000000","1:4":"#000000","2:4":"#000000","3:4":"#000000","4:4":"#000000","5:4":"#000000","6:4":"#000000","7:4":"#000000","8:4":"#000000","9:4":"#000000","10:4":"#000000","11:4":"#000000","12:4":"#000000","13:4":"#000000","14:4":"#000000","15:4":"#000000","16:4":"#000000","17:4":"#000000","18:4":"#000000","19:4":"#000000","20:4":"#000000","21:4":"#000000","22:4":"#000000","23:4":"#000000","24:4":"#000000","25:4":"#000000","26:4":"#000000","27:4":"#000000","28:4":"#000000","29:4":"#000000","30:4":"#000000","31:4":"#000000","0:5":"#000000","1:5":"#000000","2:5":"#000000","3:5":"#000000","4:5":"#000000","5:5":"#000000","6:5":"#000000","7:5":"#000000","8:5":"#000000","9:5":"#000000","10:5":"#000000","11:5":"#000000","12:5":"#000000","13:5":"#000000","14:5":"#000000","15:5":"#000000","16:5":"#000000","17:5":"#000000","18:5":"#000000","19:5":"#000000","20:5":"#000000","21:5":"#000000","22:5":"#000000","23:5":"#000000","24:5":"#000000","25:5":"#000000","26:5":"#000000","27:5":"#000000","28:5":"#000000","29:5":"#000000","30:5":"#000000","31:5":"#000000","0:6":"#000000","1:6":"#000000","2:6":"#000000","3:6":"#000000","4:6":"#000000","5:6":"#969696","6:6":"#000000","7:6":"#000000","8:6":"#000000","9:6":"#000000","10:6":"#000000","11:6":"#000000","12:6":"#000000","13:6":"#000000","14:6":"#000000","15:6":"#000000","16:6":"#000000","17:6":"#000000","18:6":"#000000","19:6":"#000000","20:6":"#000000","21:6":"#000000","22:6":"#000000","23:6":"#000000","24:6":"#000000","25:6":"#FFF5FA","26:6":"#000000","27:6":"#000000","28:6":"#000000","29:6":"#000000","30:6":"#000000","31:6":"#000000","0:7":"#000000","1:7":"#000000","2:7":"#000000","3:7":"#000000","4:7":"#000000","5:7":"#000000","6:7":"#000000","7:7":"#000000","8:7":"#000000","9:7":"#000000","10:7":"#000000","11:7":"#000000","12:7":"#000000","13:7":"#000000","14:7":"#000000","15:7":"#000000","16:7":"#000000","17:7":"#000000","18:7":"#000000","19:7":"#000000","20:7":"#000000","21:7":"#000000","22:7":"#000000","23:7":"#000000","24:7":"#000000","25:7":"#000000","26:7":"#000000","27:7":"#000000","28:7":"#000000","29:7":"#000000","30:7":"#000000","31:7":"#000000","0:8":"#000000","1:8":"#000000","2:8":"#000000","3:8":"#000000","4:8":"#000000","5:8":"#000000","6:8":"#000000","7:8":"#000000","8:8":"#000000","9:8":"#000000","10:8":"#000000","11:8":"#000000","12:8":"#000000","13:8":"#000000","14:8":"#000000","15:8":"#000000","16:8":"#000000","17:8":"#000000","18:8":"#000000","19:8":"#000000","20:8":"#FFD700","21:8":"#FFD700","22:8":"#000000","23:8":"#000000","24:8":"#000000","25:8":"#000000","26:8":"#000000","27:8":"#000000","28:8":"#000000","29:8":"#000000","30:8":"#000000","31:8":"#000000","0:9":"#000000","1:9":"#000000","2:9":"#000000","3:9":"#000000","4:9":"#000000","5:9":"#000000","6:9":"#000000","7:9":"#000000","8:9":"#000000","9:9":"#000000","10:9":"#000000","11:9":"#000000","12:9":"#000000","13:9":"#000000","14:9":"#000000","15:9":"#969696","16:9":"#000000","17:9":"#000000","18:9":"#000000","19:9":"#000000","20:9":"#000000","21:9":"#FFD700","22:9":"#FFC125","23:9":"#FFC125","24:9":"#000000","25:9":"#000000","26:9":"#000000","27:9":"#000000","28:9":"#000000","29:9":"#000000","30:9":"#000000","31:9":"#000000","0:10":"#000000","1:10":"#000000","2:10":"#000000","3:10":"#000000","4:10":"#000000","5:10":"#000000","6:10":"#000000","7:10":"#000000","8:10":"#000000","9:10":"#000000","10:10":"#000000","11:10":"#000000","12:10":"#000000","14:10":"#000000","15:10":"#000000","16:10":"#000000","17:10":"#000000","18:10":"#000000","19:10":"#000000","20:10":"#000000","21:10":"#FFC125","22:10":"#FFD700","23:10":"#FFD700","24:10":"#FFC125","25:10":"#000000","26:10":"#000000","27:10":"#000000","28:10":"#000000","29:10":"#000000","30:10":"#000000","31:10":"#000000","0:11":"#000000","1:11":"#000000","2:11":"#000000","3:11":"#000000","4:11":"#000000","5:11":"#000000","6:11":"#000000","8:11":"#000000","9:11":"#000000","10:11":"#000000","11:11":"#000000","12:11":"#000000","13:11":"#000000","14:11":"#000000","15:11":"#000000","16:11":"#000000","17:11":"#000000","18:11":"#000000","19:11":"#000000","20:11":"#000000","21:11":"#000000","22:11":"#FFC125","23:11":"#FFC125","24:11":"#FFC125","25:11":"#FFC125","26:11":"#000000","27:11":"#000000","28:11":"#000000","29:11":"#000000","30:11":"#000000","31:11":"#000000","0:12":"#000000","1:12":"#000000","2:12":"#000000","3:12":"#000000","4:12":"#000000","5:12":"#000000","7:12":"#FFFFFF","9:12":"#000000","10:12":"#000000","11:12":"#000000","12:12":"#000000","13:12":"#000000","14:12":"#000000","15:12":"#000000","16:12":"#000000","17:12":"#000000","18:12":"#000000","19:12":"#000000","20:12":"#000000","21:12":"#000000","22:12":"#FFD700","23:12":"#FFD700","24:12":"#FFC125","25:12":"#FFC125","26:12":"#FFC125","27:12":"#000000","28:12":"#000000","29:12":"#FFE5EA","30:12":"#000000","31:12":"#000000","0:13":"#000000","1:13":"#000000","2:13":"#000000","3:13":"#000000","4:13":"#000000","5:13":"#000000","6:13":"#000000","8:13":"#000000","9:13":"#000000","10:13":"#000000","11:13":"#000000","12:13":"#000000","13:13":"#000000","14:13":"#000000","15:13":"#000000","16:13":"#000000","17:13":"#000000","18:13":"#000000","19:13":"#000000","20:13":"#000000","21:13":"#000000","22:13":"#FFD700","23:13":"#FFD700","24:13":"#FFD700","25:13":"#FFD700","26:13":"#FFC125","27:13":"#000000","28:13":"#000000","29:13":"#000000","30:13":"#000000","31:13":"#000000","0:14":"#000000","1:14":"#000000","2:14":"#000000","3:14":"#000000","4:14":"#000000","5:14":"#000000","6:14":"#000000","7:14":"#000000","8:14":"#000000","9:14":"#000000","10:14":"#000000","11:14":"#000000","12:14":"#000000","13:14":"#000000","14:14":"#000000","15:14":"#000000","16:14":"#000000","17:14":"#000000","18:14":"#000000","19:14":"#000000","20:14":"#000000","21:14":"#000000","22:14":"#FFD700","23:14":"#FFD700","24:14":"#FFD700","25:14":"#FFD700","26:14":"#FFD700","27:14":"#FFC125","28:14":"#000000","29:14":"#000000","30:14":"#000000","31:14":"#000000","0:15":"#000000","1:15":"#000000","2:15":"#000000","3:15":"#000000","4:15":"#000000","5:15":"#000000","6:15":"#000000","7:15":"#000000","8:15":"#000000","9:15":"#000000","10:15":"#000000","11:15":"#000000","12:15":"#000000","13:15":"#000000","14:15":"#000000","15:15":"#000000","16:15":"#000000","17:15":"#000000","18:15":"#000000","19:15":"#000000","20:15":"#000000","21:15":"#FFE566","22:15":"#FFD700","23:15":"#FFE566","24:15":"#FFD700","25:15":"#FFD700","26:15":"#FFD700","27:15":"#FFC125","28:15":"#000000","29:15":"#000000","30:15":"#000000","31:15":"#000000","0:16":"#000000","1:16":"#000000","2:16":"#000000","3:16":"#000000","4:16":"#000000","5:16":"#000000","6:16":"#000000","7:16":"#000000","8:16":"#000000","9:16":"#000000","10:16":"#000000","11:16":"#000000","12:16":"#000000","13:16":"#000000","14:16":"#000000","15:16":"#000000","16:16":"#000000","17:16":"#000000","18:16":"#000000","19:16":"#000000","20:16":"#000000","21:16":"#FFE566","22:16":"#FFE566","23:16":"#FFD700","24:16":"#FFE566","25:16":"#FFD700","26:16":"#FFD700","27:16":"#FFC125","28:16":"#000000","29:16":"#000000","30:16":"#000000","31:16":"#000000","0:17":"#000000","1:17":"#000000","2:17":"#000000","3:17":"#000000","4:17":"#000000","5:17":"#000000","6:17":"#000000","7:17":"#000000","8:17":"#000000","9:17":"#000000","10:17":"#000000","11:17":"#000000","12:17":"#000000","13:17":"#000000","14:17":"#000000","15:17":"#000000","16:17":"#000000","17:17":"#000000","18:17":"#000000","19:17":"#000000","20:17":"#FFFCC0","21:17":"#FFFCC0","22:17":"#FFD700","23:17":"#FFD700","24:17":"#FFE566","25:17":"#FFD700","26:17":"#FFD700","27:17":"#FFC125","28:17":"#000000","29:17":"#000000","30:17":"#000000","31:17":"#000000","0:18":"#000000","1:18":"#000000","2:18":"#000000","3:18":"#000000","4:18":"#000000","5:18":"#000000","6:18":"#000000","7:18":"#000000","8:18":"#000000","9:18":"#000000","10:18":"#000000","11:18":"#000000","12:18":"#000000","13:18":"#000000","14:18":"#000000","15:18":"#000000","16:18":"#000000","17:18":"#000000","18:18":"#000000","19:18":"#FFD700","20:18":"#FFFCC0","21:18":"#FFFCC0","22:18":"#FFD700","23:18":"#FFE566","24:18":"#FFE566","25:18":"#FFD700","26:18":"#FFD700","27:18":"#FFC125","28:18":"#000000","29:18":"#000000","30:18":"#000000","31:18":"#000000","0:19":"#000000","1:19":"#000000","2:19":"#000000","3:19":"#000000","4:19":"#000000","5:19":"#000000","6:19":"#000000","7:19":"#000000","8:19":"#FFD700","9:19":"#000000","10:19":"#000000","11:19":"#000000","12:19":"#000000","13:19":"#000000","14:19":"#000000","15:19":"#000000","16:19":"#000000","17:19":"#000000","18:19":"#FFFCC0","19:19":"#FFFCC0","20:19":"#FFFCC0","21:19":"#FFFCC0","22:19":"#FFFCC0","23:19":"#FFE566","24:19":"#FFE566","25:19":"#FFD700","26:19":"#FFD700","27:19":"#000000","28:19":"#000000","29:19":"#000000","30:19":"#000000","31:19":"#000000","0:20":"#000000","1:20":"#000000","2:20":"#000000","3:20":"#000000","4:20":"#000000","5:20":"#000000","6:20":"#000000","7:20":"#000000","8:20":"#000000","9:20":"#FFD700","10:20":"#FFD700","11:20":"#FFD700","12:20":"#FFD700","13:20":"#FFD700","14:20":"#FFE566","15:20":"#FFD700","16:20":"#FFFCC0","17:20":"#FFFCC0","18:20":"#FFD700","19:20":"#FFD700","20:20":"#FFFCC0","21:20":"#FFFCC0","22:20":"#FFFCC0","23:20":"#FFE566","24:20":"#FFE566","25:20":"#FFD700","26:20":"#FFD700","27:20":"#000000","28:20":"#000000","29:20":"#000000","30:20":"#000000","31:20":"#000000","0:21":"#000000","1:21":"#000000","2:21":"#000000","3:21":"#000000","4:21":"#000000","5:21":"#000000","6:21":"#000000","7:21":"#000000","8:21":"#000000","9:21":"#FFD700","10:21":"#FFD700","11:21":"#FFD700","12:21":"#FFD700","13:21":"#FFD700","14:21":"#FFE566","15:21":"#FFE566","16:21":"#FFFCC0","17:21":"#FFD700","18:21":"#FFD700","19:21":"#FFD700","20:21":"#FFFCC0","21:21":"#FFFCC0","22:21":"#FFFCC0","23:21":"#FFE566","24:21":"#FFE566","25:21":"#FFD700","26:21":"#FFC125","27:21":"#000000","28:21":"#000000","29:21":"#000000","30:21":"#000000","31:21":"#000000","0:22":"#000000","1:22":"#000000","2:22":"#000000","3:22":"#000000","4:22":"#000000","5:22":"#000000","6:22":"#000000","7:22":"#000000","8:22":"#000000","9:22":"#000000","10:22":"#FFC125","11:22":"#FFC125","12:22":"#FFD700","13:22":"#FFD700","14:22":"#FFD700","15:22":"#FFD700","16:22":"#FFE566","17:22":"#FFFCC0","18:22":"#FFFCC0","19:22":"#FFFCC0","20:22":"#FFFCC0","21:22":"#FFFCC0","22:22":"#FFE566","23:22":"#FFE566","24:22":"#FFD700","25:22":"#FFD700","26:22":"#000000","27:22":"#000000","28:22":"#000000","29:22":"#000000","30:22":"#969696","31:22":"#000000","0:23":"#000000","1:23":"#000000","2:23":"#000000","3:23":"#000000","4:23":"#000000","5:23":"#000000","6:23":"#000000","7:23":"#000000","8:23":"#000000","9:23":"#000000","10:23":"#000000","11:23":"#FFC125","12:23":"#FFC125","13:23":"#FFD700","14:23":"#FFD700","15:23":"#FFE566","16:23":"#FFE566","17:23":"#FFE566","18:23":"#FFE566","19:23":"#FFFCC0","20:23":"#FFFCC0","21:23":"#FFE566","22:23":"#FFE566","23:23":"#FFE566","24:23":"#FFD700","25:23":"#000000","26:23":"#000000","27:23":"#000000","28:23":"#000000","29:23":"#000000","30:23":"#000000","31:23":"#000000","0:24":"#000000","1:24":"#000000","3:24":"#000000","4:24":"#000000","5:24":"#000000","6:24":"#000000","7:24":"#000000","8:24":"#000000","9:24":"#000000","10:24":"#000000","11:24":"#000000","12:24":"#000000","13:24":"#FFC125","14:24":"#FFD700","15:24":"#FFD700","16:24":"#FFE566","17:24":"#FFE566","18:24":"#FFE566","19:24":"#FFE566","20:24":"#FFE566","21:24":"#FFE566","22:24":"#FFE566","23:24":"#FFD700","24:24":"#000000","25:24":"#000000","26:24":"#000000","27:24":"#000000","28:24":"#000000","29:24":"#000000","30:24":"#000000","31:24":"#000000","0:25":"#000000","2:25":"#FFE5EA","4:25":"#000000","5:25":"#000000","6:25":"#000000","7:25":"#000000","8:25":"#000000","9:25":"#000000","10:25":"#000000","11:25":"#000000","12:25":"#000000","13:25":"#000000","14:25":"#FFC125","15:25":"#FFD700","16:25":"#FFD700","17:25":"#FFD700","18:25":"#FFE566","19:25":"#FFE566","20:25":"#FFE566","21:25":"#FFE566","22:25":"#000000","23:25":"#000000","24:25":"#000000","25:25":"#000000","26:25":"#000000","27:25":"#000000","28:25":"#000000","29:25":"#000000","30:25":"#000000","31:25":"#000000","0:26":"#000000","1:26":"#000000","3:26":"#000000","4:26":"#000000","5:26":"#000000","6:26":"#000000","7:26":"#000000","8:26":"#000000","9:26":"#000000","10:26":"#000000","11:26":"#000000","12:26":"#000000","13:26":"#000000","14:26":"#000000","15:26":"#000000","16:26":"#000000","17:26":"#000000","18:26":"#000000","19:26":"#000000","20:26":"#000000","21:26":"#000000","22:26":"#000000","23:26":"#000000","24:26":"#000000","25:26":"#000000","26:26":"#000000","27:26":"#000000","29:26":"#000000","30:26":"#000000","31:26":"#000000","0:27":"#000000","1:27":"#000000","2:27":"#000000","3:27":"#000000","4:27":"#000000","5:27":"#000000","6:27":"#000000","7:27":"#000000","8:27":"#000000","9:27":"#000000","10:27":"#000000","11:27":"#000000","12:27":"#000000","13:27":"#000000","14:27":"#000000","15:27":"#000000","16:27":"#000000","17:27":"#000000","18:27":"#000000","19:27":"#000000","20:27":"#000000","21:27":"#000000","22:27":"#000000","23:27":"#000000","24:27":"#000000","25:27":"#000000","26:27":"#000000","28:27":"#FFFFFF","30:27":"#000000","31:27":"#000000","0:28":"#000000","1:28":"#000000","2:28":"#000000","3:28":"#000000","4:28":"#000000","5:28":"#000000","6:28":"#000000","7:28":"#000000","8:28":"#FFFAFA","9:28":"#000000","10:28":"#000000","11:28":"#000000","12:28":"#000000","13:28":"#000000","14:28":"#000000","15:28":"#000000","16:28":"#000000","17:28":"#000000","18:28":"#000000","19:28":"#000000","20:28":"#000000","21:28":"#000000","22:28":"#000000","23:28":"#FFF5FA","24:28":"#000000","25:28":"#000000","26:28":"#000000","27:28":"#000000","30:28":"#000000","31:28":"#000000","0:29":"#000000","1:29":"#000000","2:29":"#000000","3:29":"#000000","4:29":"#000000","5:29":"#000000","6:29":"#000000","7:29":"#000000","8:29":"#000000","9:29":"#000000","10:29":"#000000","11:29":"#000000","12:29":"#969696","13:29":"#000000","14:29":"#000000","15:29":"#000000","16:29":"#000000","17:29":"#000000","18:29":"#000000","19:29":"#000000","20:29":"#000000","21:29":"#000000","22:29":"#000000","23:29":"#000000","24:29":"#000000","25:29":"#000000","26:29":"#000000","27:29":"#000000","31:29":"#000000","0:30":"#000000","1:30":"#000000","2:30":"#000000","3:30":"#000000","4:30":"#000000","5:30":"#000000","6:30":"#000000","7:30":"#000000","8:30":"#000000","9:30":"#000000","10:30":"#000000","11:30":"#000000","12:30":"#000000","13:30":"#000000","14:30":"#000000","15:30":"#000000","16:30":"#000000","17:30":"#000000","18:30":"#000000","19:30":"#000000","20:30":"#000000","21:30":"#000000","22:30":"#000000","23:30":"#000000","24:30":"#000000","25:30":"#000000","26:30":"#000000","27:30":"#000000","28:30":"#000000","30:30":"#000000","31:30":"#000000","0:31":"#000000","1:31":"#000000","2:31":"#000000","3:31":"#000000","4:31":"#000000","5:31":"#000000","6:31":"#000000","7:31":"#000000","8:31":"#000000","9:31":"#000000","10:31":"#000000","11:31":"#000000","12:31":"#000000","13:31":"#000000","14:31":"#000000","15:31":"#000000","16:31":"#000000","17:31":"#000000","18:31":"#000000","19:31":"#000000","20:31":"#000000","21:31":"#000000","22:31":"#000000","23:31":"#000000","24:31":"#000000","25:31":"#000000","26:31":"#000000","27:31":"#000000","28:31":"#000000","29:31":"#000000","30:31":"#000000","31:31":"#000000"},p=[15,10,222],m=[{y:6,x:5},{y:9,x:15},{y:22,x:30},{y:29,x:12}];function C(e){return e.map(e=>({...e,sort:Math.random()})).sort((e,t)=>e.sort-t.sort).map(e=>e)}let D=["#6aa84f","#fa6a31","#2e7fc8","#ffc332","#218787"];var g=n(26248);let h=(0,g.createServerReference)("40168ccf985765a66f490fa30acd367eac1649488d",g.callServer,void 0,g.findSourceMapURL,"transformPresetToDisplayMacros");var x=n(11415);function w({preset:e,isDefaultPreset:t=!1}){let[n,o]=(0,r.useState)(),[a,s]=(0,r.useState)(),[i,l]=(0,r.useState)([]);(0,r.useEffect)(()=>{(async()=>{l(await h(e||null))})()},[JSON.stringify(e)]),(0,r.useEffect)(()=>{c()},[a,JSON.stringify(i)]);let c=(0,r.useCallback)(()=>{a&&a?.render(i)},[a,JSON.stringify(i)]);return(0,F.jsxs)("div",{style:{width:"100%",aspectRatio:"1 / 1",background:"#000",display:"flex"},children:[n&&(0,F.jsx)("img",{alt:`${e?.scenes[0].sceneName} scene`,src:n,style:{imageRendering:"pixelated"},width:"100%"}),t&&(0,F.jsx)(x.Overlay,{color:"#000",backgroundOpacity:.85,zIndex:0})]})}},46648:(e,t,n)=>{n.d(t,{default:()=>F});let F=(0,n(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/roykolak/Projects/moonclock/src/components/App.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/roykolak/Projects/moonclock/src/components/App.tsx","default")},67296:(e,t,n)=>{n.d(t,{W:()=>F});function F(e){let t=new Date;if("until"===e.mode){let n=parseInt(e.untilDay,10),F=parseInt(e.untilHour,10),r=parseInt(e.untilMinute,10);t.setDate(t.getDate()+n),t.setHours(F,r,0,0)}else if("for"===e.mode){let[n,F]=e.forTime.split(":"),r=parseInt(n,10),o=parseInt(F,10);if(0===r&&0===o)return null;t.setHours(t.getHours()+r,t.getMinutes()+o,0,0)}return t}},51170:(e,t,n)=>{n.d(t,{q:()=>w});var F=n(21590);n(70376),n(88044);var r=function(e){return e.Box="box",e.Text="text",e.Twinkle="twinkle",e.Meteors="meteors",e.Marquee="marquee",e.Image="image",e.Ripple="ripple",e.Custom="custom",e.Coordinates="coordinates",e.Moon="moon",e.Countdown="countdown",e}({});let o=e=>({macroName:r.Twinkle,macroConfig:e}),a=e=>({macroName:r.Box,macroConfig:e}),s=e=>({macroName:r.Text,macroConfig:e}),i=e=>({macroName:r.Ripple,macroConfig:e}),l=e=>({macroName:r.Moon,macroConfig:e}),c=e=>({macroName:r.Coordinates,macroConfig:e}),u=e=>({macroName:r.Countdown,macroConfig:e});var d=n(84384),f=n(67296),p=n(29021),m=n.n(p),C=n(68726),D=n(99344);async function g(){try{return m().readFileSync("./hardware/lastHeartbeat.txt").toString()}catch{return null}}async function h(){return(0,C.gx)(),m().readdirSync((0,C.gx)()).map(e=>e.split(".")[0])}async function x(){return(0,C.gx)(),m().readdirSync((0,C.gx)()).map(e=>{let t=e.split(".")[0],n=JSON.parse(m().readFileSync(`${(0,C.gx)()}/${t}.json`).toString());return{name:t,coordinates:n}})}async function w(e){return e?(await Promise.all(e.scenes.flatMap(async({sceneName:t,sceneConfig:n})=>{if(t===d.eU.Blank)return[a({backgroundColor:"#000000"})];if(t===d.eU.Moon)return[l({})];if(t===d.eU.Ripple)return[i({...n,speed:n.speed/10,waveHeight:n.waveHeight/10})];if(t===d.eU.Countdown){let t=(0,f.W)(e);return t?[u({endDate:t.toJSON()})]:[s({text:"no\n date"})]}if(t===d.eU.Twinkle)return[o({...n,speed:51-n.speed/2,amount:10*n.amount})];if(t===d.iT)return[a({backgroundColor:"#000000"})];let F=(await x()).find(e=>e.name===t);return F?[c({coordinates:F?.coordinates})]:[s({text:"?",startingColumn:11,startingRow:8,fontSize:20,color:"#888"})]}))).flat():[]}(0,D.D)([g,h,x]),(0,F.A)(g,"00b2b40489db12b9391a83fce66626def34a041379",null),(0,F.A)(h,"002aa21eceb7baff33c3b3104dca68851f89d867a1",null),(0,F.A)(x,"008fc986eaf43402eb796d17541d6759aa1c9a465b",null),(0,D.D)([w]),(0,F.A)(w,"40168ccf985765a66f490fa30acd367eac1649488d",null)},20304:(e,t,n)=>{n.d(t,{bQ:()=>c,XO:()=>u});var F=n(29021),r=n.n(F),o=function(e){return e.Blank="blank",e.Moon="moon",e.Countdown="countdown",e.Twinkle="twinkle",e.Ripple="ripple",e}({});let a={name:"Default",scenes:[{sceneName:o.Blank,sceneConfig:{}}],mode:"for",untilDay:"0",untilHour:"0",untilMinute:"00",forTime:"0:00"},s={panel:{name:"My Moonclock",timeAdjustmentAmount:"5",defaultPreset:a,brightness:30,pwnLsbNanoseconds:130,gpioSlowdown:4,pwmBits:11},scheduledPreset:{preset:null,endTime:null},hardware:{preset:a},presets:[{name:"Sleep Mode",scenes:[{sceneName:o.Moon,sceneConfig:{}}],mode:"until",untilDay:"1",untilHour:"7",untilMinute:"00",forTime:""},{name:"Nap Mode",scenes:[{sceneName:"bunny",sceneConfig:{}}],mode:"for",untilDay:"0",untilHour:"0",untilMinute:"0",forTime:"2:00"},{name:"Timeout",scenes:[{sceneName:o.Countdown,sceneConfig:{}}],mode:"for",untilDay:"0",untilHour:"0",untilMinute:"0",forTime:"0:05"}]};function i(){return"test"===process.env.APP_ENV?"database-test.json":"database.json"}function l(){let e=i();try{let t=r().readFileSync(`./${e}`).toString();return JSON.parse(t)}catch{return console.log(`${e} not found, loading default data`),JSON.parse(JSON.stringify(s))}}function c(){return l()}function u(e){var t;t={...l(),...e},r().writeFileSync(i(),JSON.stringify(t,null,2),{mode:510})}},68726:(e,t,n)=>{n.d(t,{gx:()=>o,yY:()=>r});var F=n(79646);function r(){console.log("[APP] Triggering hardware restart"),(0,F.exec)("systemctl restart moonclock-hardware")}function o(){return"../../custom_scenes"}},84384:(e,t,n)=>{n.d(t,{TS:()=>F,eU:()=>r,iT:()=>o});var F=function(e){return e.Name="name",e.TimeAdjustmentAmount="timeAdjustmentAmount",e.Brightness="brightness",e.PwnLsbNanoseconds="pwnLsbNanoseconds",e.GpioSlowdown="gpioSlowdown",e.PwmBits="pwmBits",e}({}),r=function(e){return e.Blank="blank",e.Moon="moon",e.Countdown="countdown",e.Twinkle="twinkle",e.Ripple="ripple",e}({});let o="trigger-hardware-scene-reload"}};