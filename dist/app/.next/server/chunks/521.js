"use strict";exports.id=521,exports.ids=[521],exports.modules={72590:(e,n,l)=>{l.d(n,{PresetForm:()=>A});var s=l(45512),t=l(74222),a=l(89465),i=l(31824),r=l(388),o=l(19939),c=l(62148),u=l(63938),d=l(15436),p=l(45841),m=l(79234),x=l(27521),f=l(48376),g=l(15166),j=l(44914),h=l(29405),b=l(69738),v=l(15992),S=l(29571),k=l(55705),w=l(45900),C=l(99985),M=l(28500);let y={mode:"for",name:"",scenes:[{sceneName:S.eU.Moon,sceneConfig:{}}],untilMinute:"0",untilDay:"0",untilHour:"0",forTime:"0:05"};function A({preset:e=y,customSceneNames:n,action:l,submitLabel:j,title:h}){let[b,v]=(0,M.useDisclosure)(),A=(0,k.m)({initialValues:{...y,...e}});return A.watch("scenes.0.sceneName",({value:e})=>{let n="scenes.0.sceneConfig";return e===S.eU.Twinkle?A.setFieldValue(n,{color:"#ffffff",speed:50,amount:50}):e===S.eU.Ripple?A.setFieldValue(n,{color:"#ffffff",speed:5,waveHeight:6}):e===S.eU.Marquee?A.setFieldValue(n,{color:"#ffffff",speed:50,text:"hello"}):void A.setFieldValue(n,{})}),(0,s.jsxs)("form",{onSubmit:A.onSubmit(l),"data-testid":"preset-form",children:[h&&(0,s.jsx)(t.Title,{order:2,children:h}),(0,s.jsx)(a.Box,{w:"50%",m:"auto",mb:"md",children:(0,s.jsx)(w.K,{preset:A.values})}),(0,s.jsxs)(i.Stack,{children:[(0,s.jsx)(r.TextInput,{placeholder:"",variant:"filled",style:{flex:1},label:"Name",required:!0,"data-testid":"preset-name",...A.getInputProps(S.M8.Name)},A.key(S.M8.Name)),(0,s.jsxs)(i.Stack,{gap:"2",children:[(0,s.jsx)(o.InputLabel,{children:"Scene"}),A.getValues().scenes.map((e,l)=>(0,s.jsxs)(c.Group,{w:"100%",children:[(0,s.jsxs)(c.Group,{w:"100%",children:[(0,s.jsx)(u.Select,{placeholder:"Scene",variant:"filled",style:{flex:"auto"},data:[{group:"Built-in Scenes",items:[S.eU.Moon,S.eU.Countdown,S.eU.Twinkle,S.eU.Ripple,S.eU.Marquee]},{group:"Custom Scenes",items:n}],"data-testid":"scene-select",required:!0,...A.getInputProps(`scenes.${l}.sceneName`)},A.key(`scenes.${l}.sceneName`)),(0,s.jsx)(d.ActionIcon,{variant:"light",onClick:v.toggle,size:"lg",children:(0,s.jsx)(C.A,{size:22})})]}),b&&(0,s.jsx)(T,{form:A,index:l})]},l))]}),(0,s.jsx)(p.Divider,{}),(0,s.jsx)(m.SegmentedControl,{fullWidth:!0,data:[{label:"For...",value:"for"},{label:"Until...",value:"until"}],...A.getInputProps("mode")},A.key("mode")),"for"===A.values.mode&&(0,s.jsx)(u.Select,{data:[{label:"5 minutes",value:"0:05"},{label:"15 minutes",value:"0:15"},{label:"30 minutes",value:"0:30"},{label:"1 hour",value:"1:00"},{label:"1 hour 30 minutes",value:"1:30"},{label:"2 hours",value:"2:00"},{label:"Forever",value:"0:00"}],"data-testid":"for-time-select",...A.getInputProps(S.M8.ForTime)},A.key(S.M8.ForTime)),"until"===A.values.mode&&(0,s.jsxs)(x.Flex,{gap:"xs",children:[(0,s.jsx)(u.Select,{placeholder:"Hour",data:[{label:"Today",value:"0"},{label:"Tomorrow",value:"1"}],"data-testid":"until-hour-select",...A.getInputProps(S.M8.UntilDay)},A.key(S.M8.UntilDay)),(0,s.jsx)(f.Text,{children:"@"}),(0,s.jsx)(u.Select,{placeholder:"Hour",data:[{label:"5 AM",value:"5"},{label:"6 AM",value:"6"},{label:"7 AM",value:"7"},{label:"8 AM",value:"8"},{label:"9 AM",value:"9"},{label:"10 AM",value:"10"},{label:"11 AM",value:"11"},{label:"12 PM",value:"12"},{label:"1 PM",value:"13"}],"data-testid":"until-hour-select",...A.getInputProps(S.M8.UntilHour)},A.key(S.M8.UntilHour)),(0,s.jsx)(f.Text,{children:":"}),(0,s.jsx)(u.Select,{placeholder:"Minute",data:[{label:"00",value:"00"},{label:"15",value:"15"},{label:"30",value:"30"},{label:"45",value:"45"}],"data-testid":"until-minute-select",...A.getInputProps(S.M8.UntilMinute)},A.key(S.M8.UntilMinute))]}),(0,s.jsx)(p.Divider,{}),(0,s.jsx)(I,{form:A}),(0,s.jsx)(x.Flex,{mt:"xs",children:(0,s.jsx)(g.Button,{type:"submit",fullWidth:!0,children:j||"Save"})})]})]})}function T({form:e,index:n}){let{sceneName:l}=e.getValues().scenes[0];return"twinkle"===l?(0,s.jsx)(j.Card,{w:"100%",children:(0,s.jsxs)(i.Stack,{children:[(0,s.jsxs)(i.Stack,{gap:4,children:[(0,s.jsx)(f.Text,{size:"sm",children:"Twinkle Speed"}),(0,s.jsx)(h.Slider,{label:null,...e.getInputProps(`scenes.${n}.sceneConfig.speed`)},e.key(`scenes.${n}.sceneConfig.speed`))]}),(0,s.jsxs)(i.Stack,{gap:4,children:[(0,s.jsx)(f.Text,{size:"sm",children:"Twinkle Amount"}),(0,s.jsx)(h.Slider,{label:null,...e.getInputProps(`scenes.${n}.sceneConfig.amount`)},e.key(`scenes.${n}.sceneConfig.amount`))]}),(0,s.jsx)(b.ColorInput,{placeholder:"Select a twinkle color",...e.getInputProps(`scenes.${n}.sceneConfig.color`)},e.key(`scenes.${n}.sceneConfig.color`))]})}):"ripple"===l?(0,s.jsx)(j.Card,{w:"100%",children:(0,s.jsxs)(i.Stack,{children:[(0,s.jsxs)(i.Stack,{gap:4,children:[(0,s.jsx)(f.Text,{size:"sm",children:"Speed"}),(0,s.jsx)(h.Slider,{label:null,...e.getInputProps(`scenes.${n}.sceneConfig.speed`)},e.key(`scenes.${n}.sceneConfig.speed`))]}),(0,s.jsxs)(i.Stack,{gap:4,children:[(0,s.jsx)(f.Text,{size:"sm",children:"Wave height"}),(0,s.jsx)(h.Slider,{label:null,...e.getInputProps(`scenes.${n}.sceneConfig.waveHeight`)},e.key(`scenes.${n}.sceneConfig.waveHeight`))]}),(0,s.jsx)(b.ColorInput,{placeholder:"Select a twinkle color",...e.getInputProps(`scenes.${n}.sceneConfig.color`)},e.key(`scenes.${n}.sceneConfig.color`))]})}):"marquee"===l?(0,s.jsx)(j.Card,{w:"100%",children:(0,s.jsxs)(i.Stack,{children:[(0,s.jsx)(r.TextInput,{label:"Message",...e.getInputProps(`scenes.${n}.sceneConfig.text`)},e.key(`scenes.${n}.sceneConfig.text`)),(0,s.jsxs)(i.Stack,{gap:4,children:[(0,s.jsx)(f.Text,{size:"sm",children:"Speed"}),(0,s.jsx)(h.Slider,{...e.getInputProps(`scenes.${n}.sceneConfig.speed`)},e.key(`scenes.${n}.sceneConfig.speed`))]}),(0,s.jsxs)(i.Stack,{gap:4,children:[(0,s.jsx)(f.Text,{size:"sm",children:"Starting row"}),(0,s.jsx)(h.Slider,{max:32,...e.getInputProps(`scenes.${n}.sceneConfig.startingRow`)},e.key(`scenes.${n}.sceneConfig.startingRow`))]}),(0,s.jsx)(b.ColorInput,{placeholder:"Select a twinkle color",...e.getInputProps(`scenes.${n}.sceneConfig.color`)},e.key(`scenes.${n}.sceneConfig.color`))]})}):(0,s.jsx)(j.Card,{w:"100%",children:(0,s.jsx)(f.Text,{ta:"center",size:"xs",children:"No scene options available"})})}function I({form:e}){return(0,s.jsx)(v.Accordion,{defaultValue:"Apples",variant:"filled",children:(0,s.jsxs)(v.Accordion.Item,{value:"hardware",children:[(0,s.jsx)(v.Accordion.Control,{children:(0,s.jsx)(f.Text,{size:"sm",c:"dimmed",children:"Advanced Settings"})}),(0,s.jsx)(v.Accordion.Panel,{children:(0,s.jsx)(i.Stack,{children:(0,s.jsx)(u.Select,{label:"Time adjustment interval",description:"Configure a custom time adjustment interval in the UI",placeholder:"Select...",data:[{label:"1 minute",value:"1"},{label:"5 minutes",value:"5"},{label:"10 minutes",value:"10"},{label:"20 minutes",value:"20"},{label:"30 minutes",value:"30"},{label:"1 hour",value:"60"}],"data-testid":"time-adjustment-select",...e.getInputProps(S.M8.TimeAdjustmentAmount)},e.key(S.M8.TimeAdjustmentAmount))})})]},"hardware")})}},29571:(e,n,l)=>{l.d(n,{M8:()=>t,TS:()=>s,eU:()=>a});var s=function(e){return e.Name="name",e.TimeAdjustmentAmount="timeAdjustmentAmount",e.Brightness="brightness",e.PwnLsbNanoseconds="pwnLsbNanoseconds",e.GpioSlowdown="gpioSlowdown",e.PwmBits="pwmBits",e}({}),t=function(e){return e.Name="name",e.Scenes="scenes",e.Mode="mode",e.UntilDay="untilDay",e.UntilHour="untilHour",e.UntilMinute="untilMinute",e.ForTime="forTime",e.TimeAdjustmentAmount="timeAdjustmentAmount",e}({}),a=function(e){return e.Blank="blank",e.Moon="moon",e.Countdown="countdown",e.Twinkle="twinkle",e.Ripple="ripple",e.Marquee="marquee",e}({})},41824:(e,n,l)=>{l.d(n,{V8:()=>r,cR:()=>o,zn:()=>c});var s=l(88977);l(98063);var t=l(29021),a=l.n(t),i=l(28081);async function r(){try{return a().readFileSync((0,i.rV)()).toString()}catch{return null}}async function o(){return a().readdirSync((0,i.gx)()).map(e=>e.split(".")[0])}async function c(){return a().readdirSync((0,i.gx)()).map(e=>{let n=e.split(".")[0],l=JSON.parse(a().readFileSync(`${(0,i.gx)()}/${n}.json`).toString());return{name:n,coordinates:l}})}(0,l(56215).D)([r,o,c]),(0,s.A)(r,"00b2b40489db12b9391a83fce66626def34a041379",null),(0,s.A)(o,"002aa21eceb7baff33c3b3104dca68851f89d867a1",null),(0,s.A)(c,"008fc986eaf43402eb796d17541d6759aa1c9a465b",null)}};