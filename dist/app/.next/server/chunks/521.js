"use strict";exports.id=521,exports.ids=[521],exports.modules={72590:(e,n,l)=>{l.d(n,{PresetForm:()=>T});var s=l(45512),t=l(74222),i=l(89465),a=l(31824),r=l(388),o=l(19939),c=l(15166),u=l(45841),d=l(79234),m=l(63938),p=l(27521),x=l(48376),g=l(62148),f=l(15436),j=l(44914),h=l(29405),v=l(69738),b=l(15992),S=l(29571),k=l(55705),w=l(45900),C=l(99985),M=l(52312),y=l(28500);let A={mode:"for",name:"",scenes:[{sceneName:S.eU.Moon,sceneConfig:{}}],untilMinute:"0",untilDay:"0",untilHour:"0",forTime:"0:05"};function T({preset:e=A,customSceneNames:n,action:l,submitLabel:g,title:f}){let j=(0,k.m)({initialValues:{...A,...e}});return j.watch("scenes.0.sceneName",({value:e})=>{let n="scenes.0.sceneConfig";return e===S.eU.Twinkle?j.setFieldValue(n,{color:"#ffffff",speed:50,amount:50}):e===S.eU.Ripple?j.setFieldValue(n,{color:"#ffffff",speed:5,waveHeight:6}):e===S.eU.Marquee?j.setFieldValue(n,{color:"#ffffff",speed:50,text:"hello"}):void j.setFieldValue(n,{})}),(0,s.jsxs)("form",{onSubmit:j.onSubmit(l),"data-testid":"preset-form",children:[f&&(0,s.jsx)(t.Title,{order:2,children:f}),(0,s.jsx)(i.Box,{w:"50%",m:"auto",mb:"md",children:(0,s.jsx)(w.K,{preset:j.values})}),(0,s.jsxs)(a.Stack,{children:[(0,s.jsx)(r.TextInput,{placeholder:"",variant:"filled",style:{flex:1},label:"Name",required:!0,"data-testid":"preset-name",...j.getInputProps(S.M8.Name)},j.key(S.M8.Name)),(0,s.jsxs)(a.Stack,{gap:"2",children:[(0,s.jsx)(o.InputLabel,{children:"Scene"}),j.getValues().scenes.map((e,l)=>(0,s.jsx)(I,{form:j,index:l,customSceneNames:n},l)),(0,s.jsx)(c.Button,{variant:"light",onClick:()=>j.insertListItem("scenes",{sceneName:S.eU.Moon,sceneConfig:{}}),children:"Add new scene"})]}),(0,s.jsx)(u.Divider,{}),(0,s.jsx)(d.SegmentedControl,{fullWidth:!0,data:[{label:"For...",value:"for"},{label:"Until...",value:"until"}],...j.getInputProps("mode")},j.key("mode")),"for"===j.values.mode&&(0,s.jsx)(m.Select,{data:[{label:"5 minutes",value:"0:05"},{label:"15 minutes",value:"0:15"},{label:"30 minutes",value:"0:30"},{label:"1 hour",value:"1:00"},{label:"1 hour 30 minutes",value:"1:30"},{label:"2 hours",value:"2:00"},{label:"Forever",value:"0:00"}],"data-testid":"for-time-select",...j.getInputProps(S.M8.ForTime)},j.key(S.M8.ForTime)),"until"===j.values.mode&&(0,s.jsxs)(p.Flex,{gap:"xs",children:[(0,s.jsx)(m.Select,{placeholder:"Hour",data:[{label:"Today",value:"0"},{label:"Tomorrow",value:"1"}],"data-testid":"until-hour-select",...j.getInputProps(S.M8.UntilDay)},j.key(S.M8.UntilDay)),(0,s.jsx)(x.Text,{children:"@"}),(0,s.jsx)(m.Select,{placeholder:"Hour",data:[{label:"5 AM",value:"5"},{label:"6 AM",value:"6"},{label:"7 AM",value:"7"},{label:"8 AM",value:"8"},{label:"9 AM",value:"9"},{label:"10 AM",value:"10"},{label:"11 AM",value:"11"},{label:"12 PM",value:"12"},{label:"1 PM",value:"13"}],"data-testid":"until-hour-select",...j.getInputProps(S.M8.UntilHour)},j.key(S.M8.UntilHour)),(0,s.jsx)(x.Text,{children:":"}),(0,s.jsx)(m.Select,{placeholder:"Minute",data:[{label:"00",value:"00"},{label:"15",value:"15"},{label:"30",value:"30"},{label:"45",value:"45"}],"data-testid":"until-minute-select",...j.getInputProps(S.M8.UntilMinute)},j.key(S.M8.UntilMinute))]}),(0,s.jsx)(u.Divider,{}),(0,s.jsx)($,{form:j}),(0,s.jsx)(p.Flex,{mt:"xs",children:(0,s.jsx)(c.Button,{type:"submit",fullWidth:!0,children:g||"Save"})})]})]})}function I({form:e,index:n,customSceneNames:l}){let[t,i]=(0,y.useDisclosure)();return(0,s.jsxs)(g.Group,{w:"100%",mb:"xs",children:[(0,s.jsxs)(g.Group,{w:"100%",gap:"6",children:[(0,s.jsx)(m.Select,{placeholder:"Scene",variant:"filled",style:{flex:"auto"},data:[{group:"Built-in Scenes",items:[S.eU.Moon,S.eU.Countdown,S.eU.Twinkle,S.eU.Ripple,S.eU.Marquee]},{group:"Custom Scenes",items:l}],"data-testid":"scene-select",required:!0,...e.getInputProps(`scenes.${n}.sceneName`)},e.key(`scenes.${n}.sceneName`)),(0,s.jsx)(f.ActionIcon,{variant:"light",onClick:i.toggle,size:"lg",children:(0,s.jsx)(C.A,{size:22})}),(0,s.jsx)(f.ActionIcon,{color:"red",variant:"light",size:"lg",onClick:()=>e.removeListItem("scenes",n),children:(0,s.jsx)(M.A,{size:16})})]}),t&&(0,s.jsx)(P,{form:e,index:n})]},n)}function P({form:e,index:n}){let{sceneName:l}=e.getValues().scenes[n];return"twinkle"===l?(0,s.jsx)(j.Card,{w:"100%",children:(0,s.jsxs)(a.Stack,{children:[(0,s.jsxs)(a.Stack,{gap:4,children:[(0,s.jsx)(x.Text,{size:"sm",children:"Twinkle Speed"}),(0,s.jsx)(h.Slider,{label:null,...e.getInputProps(`scenes.${n}.sceneConfig.speed`)},e.key(`scenes.${n}.sceneConfig.speed`))]}),(0,s.jsxs)(a.Stack,{gap:4,children:[(0,s.jsx)(x.Text,{size:"sm",children:"Twinkle Amount"}),(0,s.jsx)(h.Slider,{label:null,...e.getInputProps(`scenes.${n}.sceneConfig.amount`)},e.key(`scenes.${n}.sceneConfig.amount`))]}),(0,s.jsx)(v.ColorInput,{placeholder:"Select a twinkle color",...e.getInputProps(`scenes.${n}.sceneConfig.color`)},e.key(`scenes.${n}.sceneConfig.color`))]})}):"ripple"===l?(0,s.jsx)(j.Card,{w:"100%",children:(0,s.jsxs)(a.Stack,{children:[(0,s.jsxs)(a.Stack,{gap:4,children:[(0,s.jsx)(x.Text,{size:"sm",children:"Speed"}),(0,s.jsx)(h.Slider,{label:null,...e.getInputProps(`scenes.${n}.sceneConfig.speed`)},e.key(`scenes.${n}.sceneConfig.speed`))]}),(0,s.jsxs)(a.Stack,{gap:4,children:[(0,s.jsx)(x.Text,{size:"sm",children:"Wave height"}),(0,s.jsx)(h.Slider,{label:null,...e.getInputProps(`scenes.${n}.sceneConfig.waveHeight`)},e.key(`scenes.${n}.sceneConfig.waveHeight`))]}),(0,s.jsx)(v.ColorInput,{placeholder:"Select a twinkle color",...e.getInputProps(`scenes.${n}.sceneConfig.color`)},e.key(`scenes.${n}.sceneConfig.color`))]})}):"marquee"===l?(0,s.jsx)(j.Card,{w:"100%",children:(0,s.jsxs)(a.Stack,{children:[(0,s.jsx)(r.TextInput,{label:"Message",...e.getInputProps(`scenes.${n}.sceneConfig.text`)},e.key(`scenes.${n}.sceneConfig.text`)),(0,s.jsxs)(a.Stack,{gap:4,children:[(0,s.jsx)(x.Text,{size:"sm",children:"Speed"}),(0,s.jsx)(h.Slider,{...e.getInputProps(`scenes.${n}.sceneConfig.speed`)},e.key(`scenes.${n}.sceneConfig.speed`))]}),(0,s.jsxs)(a.Stack,{gap:4,children:[(0,s.jsx)(x.Text,{size:"sm",children:"Starting row"}),(0,s.jsx)(h.Slider,{max:32,...e.getInputProps(`scenes.${n}.sceneConfig.startingRow`)},e.key(`scenes.${n}.sceneConfig.startingRow`))]}),(0,s.jsx)(v.ColorInput,{placeholder:"Select a twinkle color",...e.getInputProps(`scenes.${n}.sceneConfig.color`)},e.key(`scenes.${n}.sceneConfig.color`))]})}):(0,s.jsx)(j.Card,{w:"100%",children:(0,s.jsx)(x.Text,{ta:"center",size:"xs",children:"No scene options available"})})}function $({form:e}){return(0,s.jsx)(b.Accordion,{defaultValue:"Apples",variant:"filled",children:(0,s.jsxs)(b.Accordion.Item,{value:"hardware",children:[(0,s.jsx)(b.Accordion.Control,{children:(0,s.jsx)(x.Text,{size:"sm",c:"dimmed",children:"Advanced Settings"})}),(0,s.jsx)(b.Accordion.Panel,{children:(0,s.jsx)(a.Stack,{children:(0,s.jsx)(m.Select,{label:"Time adjustment interval",description:"Configure a custom time adjustment interval in the UI",placeholder:"Select...",data:[{label:"1 minute",value:"1"},{label:"5 minutes",value:"5"},{label:"10 minutes",value:"10"},{label:"20 minutes",value:"20"},{label:"30 minutes",value:"30"},{label:"1 hour",value:"60"}],"data-testid":"time-adjustment-select",...e.getInputProps(S.M8.TimeAdjustmentAmount)},e.key(S.M8.TimeAdjustmentAmount))})})]},"hardware")})}},29571:(e,n,l)=>{l.d(n,{M8:()=>t,TS:()=>s,eU:()=>i});var s=function(e){return e.Name="name",e.TimeAdjustmentAmount="timeAdjustmentAmount",e.Brightness="brightness",e.PwnLsbNanoseconds="pwnLsbNanoseconds",e.GpioSlowdown="gpioSlowdown",e.PwmBits="pwmBits",e}({}),t=function(e){return e.Name="name",e.Scenes="scenes",e.Mode="mode",e.UntilDay="untilDay",e.UntilHour="untilHour",e.UntilMinute="untilMinute",e.ForTime="forTime",e.TimeAdjustmentAmount="timeAdjustmentAmount",e}({}),i=function(e){return e.Blank="blank",e.Moon="moon",e.Countdown="countdown",e.Twinkle="twinkle",e.Ripple="ripple",e.Marquee="marquee",e}({})},41824:(e,n,l)=>{l.d(n,{V8:()=>r,cR:()=>o,zn:()=>c});var s=l(88977);l(98063);var t=l(29021),i=l.n(t),a=l(28081);async function r(){try{return i().readFileSync((0,a.rV)()).toString()}catch{return null}}async function o(){return i().readdirSync((0,a.gx)()).map(e=>e.split(".")[0])}async function c(){return i().readdirSync((0,a.gx)()).map(e=>{let n=e.split(".")[0],l=JSON.parse(i().readFileSync(`${(0,a.gx)()}/${n}.json`).toString());return{name:n,coordinates:l}})}(0,l(56215).D)([r,o,c]),(0,s.A)(r,"00b2b40489db12b9391a83fce66626def34a041379",null),(0,s.A)(o,"002aa21eceb7baff33c3b3104dca68851f89d867a1",null),(0,s.A)(c,"008fc986eaf43402eb796d17541d6759aa1c9a465b",null)}};